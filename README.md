# Devman Telegram Long Polling Bot

Данный бот предназначен для уведомления пользователя в Telegram о проверке заданий на сайте [dvmn.org](https://dvmn.org/). Бот использует Long Polling API для получения информации о проверке заданий.

## Установка и настройка

1. Клонируйте репозиторий с помощью команды:

```
git clone https://github.com/IsMrFoX/Devman_checker_bot
```

2. Установите необходимые зависимости:

```
pip install -r requirements.txt
```

3. Создайте файл `.env` в корневой директории проекта и добавьте в него следующие переменные окружения:

```
TELEGRAM_BOT_TOKEN=<ваш_токен_бота_в_telegram>
TELEGRAM_CHAT_ID=<ID_чата_в_telegram_для_отправки_уведомлений>
AUTHORIZATION_DEVMAN_TOKEN=<ваш_токен_на_dvmn.org>
```

4. Запустите скрипт:

```
python main.py
```

## Использование

Бот будет работать в фоновом режиме ибудет опрашивать API dvmn.org на предмет обновления статуса проверки заданий. При успешной проверке задания, бот отправит сообщение в Telegram чат с уведомлением о том, что работа принята. При неудачной проверке задания, бот отправит сообщение в Telegram чат с уведомлением о том, что работа отправлена на доработку.

## Опции командной строки

Скрипт поддерживает следующие опции командной строки:

```
usage: main.py [-h] [chat_id]

Получения chat_id пользователя в телеграме

positional arguments:
  chat_id     ID пользователя в телеграм чате

optional arguments:
  -h, --help  show this help message and exit
```

Если опция `chat_id` не указана при запуске скрипта, то будет использован ID чата из переменной окружения `TELEGRAM_CHAT_ID`, указанной в файле `.env`. Если опция `chat_id` указана, то будет использовано значение из командной строки, а переменная окружения будет проигнорирована.
